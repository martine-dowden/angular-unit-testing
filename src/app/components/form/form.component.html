<main>
  <form (ngSubmit)="submit()" [formGroup]="form" novalidate>
    <mat-card>
    <h1 mat-card-title>Form</h1>
      <mat-form-field data-test="name">
        <mat-label>Name</mat-label>
        <input matInput type="text" required maxlength="250" autocomplete="name" formControlName="name" placeholder="Name">
        <mat-error>This is a required field</mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Email</mat-label>
        <input matInput type="email" autocomplete="email" maxlength="250" formControlName="email" placeholder="Email">
        <mat-error>Please provide a valid email address</mat-error>
      </mat-form-field>

      <span id="prefer">Which do you prefer?</span>
      <mat-radio-group aria-labelledby="prefer" formControlName="preference">
        <mat-radio-button [value]="1">JavaScript</mat-radio-button>
        <mat-radio-button [value]="2">Typescript</mat-radio-button>
        <mat-radio-button [value]="3">No Preference</mat-radio-button>
      </mat-radio-group>

      <mat-form-field data-test="comments">
        <mat-label>Comments</mat-label>
        <textarea #comments matInput maxlength="250" formControlName="comments" placeholder="Comments"></textarea>
        <mat-hint align="end">{{ comments.value?.length || 0 }} / 250</mat-hint>
      </mat-form-field>

      <mat-card-actions align="end">
        <button type="submit" [disabled]="form.invalid || submitting" mat-raised-button color="accent">Submit</button>
        <button type="button" mat-button (click)="reset()">Reset</button>
      </mat-card-actions>
    </mat-card>
  </form>
</main>
